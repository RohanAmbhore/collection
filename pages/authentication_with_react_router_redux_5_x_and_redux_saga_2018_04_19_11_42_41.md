<a href="https://medium.com/@stepankuzmin/authentication-with-react-router-redux-5-x-and-redux-saga-55da66b54be7">https://medium.com/@stepankuzmin/authentication-with-react-router-redux-5-x-and-redux-saga-55da66b54be7</a><div id="articleHeader"><h1>Authentication with react-router-redux 5.x and redux-saga</h1></div><p id="850a">Hi there! In this code tutorial I will show you how to handle authentication in Redux project using <strong>react-router</strong> 4.x with <strong>react-router-redux</strong> 5.x and <strong>redux-saga</strong>.</p><p id="2750">You will need to install latest version of <strong>react-router-redux</strong> from <a href="https://github.com/ReactTraining/react-router/tree/master/packages/react-router-redux" target="_blank">https://github.com/ReactTraining/react-router/tree/master/packages/react-router-redux</a></p><pre id="2d98"><code>npm install --save react-router-redux@next<br />npm install --save history</code></pre><h3 id="9d2e">Initial</h3><p id="c641">First, we need to create router and saga middlewares, create store and run saga.</p><figure id="60a9"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F533564%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>index.js</figcaption></figure><h3 id="258a">Reducer</h3><p id="d6b5">Application state will have two parts: one for auth and one for router. Auth reducer will handle authentication events.</p><figure id="4d2b"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F533564%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>reducer.js</figcaption></figure><figure id="779c"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/105/1*-GC9G3YWGrTD85yV5N0STg.png?q=20" /><div class="readableLargeImageContainer"><img src="https://cdn-images-1.medium.com/max/2000/1*-GC9G3YWGrTD85yV5N0STg.png" /></div></figure><p id="834b">Saga will watch for <strong>AUTH_REQUEST</strong> action and handle authentication logic.</p><figure id="09b2"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F533564%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>saga.js</figcaption></figure><figure id="7b78"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/105/1*CqcaV4Ptw1h2fmywB5WzKQ.png?q=20" /><img /></div></figure><h3 id="8c21">Router</h3><p id="bc11">We are using router with two routes, one for <em>Login</em> component and one for <em>Main</em> component.</p><figure id="f076"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F533564%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>App.js</figcaption></figure><p id="6ad6">Main is a stateless containercomponent, that will redirect to Login if there is no token.</p><figure id="cb33"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F533564%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>Main.js</figcaption></figure><h3 id="b1bf">Login</h3><p id="05e5">Login is a stateful containercomponent that will dispatch <strong>AUTH_REQUEST</strong> action.</p><figure id="858e"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars3.githubusercontent.com%2Fu%2F533564%3Fv%3D3%26s%3D400&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>Login.js</figcaption></figure><p id="f2e6">Thatâ€™s it.</p>