<a href="https://medium.com/@ktruong008/absolute-imports-with-create-react-app-4338fbca7e3d">https://medium.com/@ktruong008/absolute-imports-with-create-react-app-4338fbca7e3d</a><div id="articleHeader"><h1><strong>Absolute Imports with Create React App</strong></h1></div><figure id="264a"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/105/1*lJKzF3fdJDgHeKClcsMQ9w.png?q=20" /><div class="readableLargeImageContainer"><img src="https://cdn-images-1.medium.com/max/2000/1*lJKzF3fdJDgHeKClcsMQ9w.png" /></div></figure><p id="c88d">By default ES6 modules in create-react-app use relative paths, which is fine for cases where the files you’re importing are relatively close within the file tree:</p><pre id="382c">import { createGoal } from ‘./actions’</pre><pre id="945a">import { selectAuth } from ‘./selectors’;</pre><pre id="9d3e">import App from ‘../App’;</pre><p id="b219">But using relative paths is a real pain when you start dealing with deeply nested tree structures because you end up with dot-dot syndrome:</p><pre id="5893">import { editUser } from ‘../../../AppContainer/actions’;</pre><pre id="a3f7">import { selectAuth } from ‘../../../AppContainer/selectors;</pre><p id="ba20">And what happens when you decide you want to move that file? Or maybe you want to import the same module in another file?</p><p id="0fc4">It was tedious enough counting how many dots you needed to traverse the first time but now you must recount every single time because as you change the location of a file you also change its relative path with respect to other files.</p><p id="64f2">What if there was a way to import a file the same way every time, regardless of where the file sat in relation to another? This is where absolute imports come in handy:</p><pre id="1895">import { editUser } from ‘containers/AppContainer/actions’;</pre><pre id="6014">import { selectAuth } from ‘containers/AppContainer/selectors;</pre><p id="be25">No matter where you import those files from the path will be the same. No more counting dots.</p><p id="acad"><strong>Implementing Absolute Imports in Create-React-App</strong></p><p id="6d3f">After digging through a bunch of github issues I was finally able boil down the steps required to implement absolute imports in create-react-app applications down to two steps:</p><ol><li id="eabd">Create a ‘.<strong>env</strong>’ file at the root level (same level as package.json)</li><li id="849e">Set an environment variable, ‘<strong>NODE_PATH</strong>’ to ‘<strong>src</strong>/’</li></ol><p id="5ac9">And that’s it.</p><p id="8144">From what I understand, create-react-app is configured in such a way that its webpack configuration will automatically pick up ‘.env’ files and read the ‘NODE_PATH’ environment variable, which can then be used for absolute imports.</p><p id="87ba">Custom environment variables also work both during development and in production because the variables are embedded during build time instead of runtime, so your app will have access to its environment by ‘process.env’:</p><p id="b482"><a href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#adding-custom-environment-variables" target="_blank">https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#adding-custom-environment-variables</a></p><p id="6ad7">The discussions:</p><p id="57ca"><a href="https://github.com/facebookincubator/create-react-app/issues/253" target="_blank">https://github.com/facebookincubator/create-react-app/issues/253</a></p><p id="a1e0"><a href="https://github.com/facebookincubator/create-react-app/issues/102" target="_blank">https://github.com/facebookincubator/create-react-app/issues/102</a></p><p id="823a">The pull requests:</p><p id="8345"><a href="https://github.com/storybooks/storybook/pull/528/files" target="_blank">https://github.com/storybooks/storybook/pull/528/files</a></p><p id="0f85"><a href="https://github.com/facebookincubator/create-react-app/pull/342/files" target="_blank">https://github.com/facebookincubator/create-react-app/pull/342/files</a></p><p id="710e">Here’s a quick example of converting from relative to absolute imports. First we create our files and folders.</p><figure id="ad2a"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/105/0*mBErsDDA-hsqMHxH.?q=20" /><div class="readableLargeImageContainer float"><img src="https://cdn-images-1.medium.com/max/2000/0*mBErsDDA-hsqMHxH." /></div></figure><p id="6ccf">We have our AppContainer that loads AppRoutes.</p><figure id="f4e9"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F17548405%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd&width=40" /></div></figure><p id="4a21">Notice how it uses relative imports. We want absolute imports.</p><ol><li id="4df0">Create a ‘.<strong>env</strong>’ file at the root level (same level as package.json)</li><li id="beed">Set an environment variable, ‘<strong>NODE_PATH</strong>’ to ‘<strong>src</strong>/’</li></ol><figure id="ee23"><div><div class="readableLargeImageContainer"><img src="https://cdn-images-1.medium.com/max/2000/0*7a1i7EDqDDQpZ7tp." /></div></figure><p id="3717">And now we can use absolute imports.</p><figure id="6e57"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars1.githubusercontent.com%2Fu%2F17548405%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd&width=40" /></div></figure><p id="7676">And it works just fine.</p><figure id="3bc8"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/105/0*6bbpLmuCWLVcLeNq.?q=20" /><div class="readableLargeImageContainer"><img /></div></figure><p id="9f2c"><strong>Conclusion</strong></p><p id="277b">Absolute imports can save you a lot of time and headaches because you no longer have to account for how many dots you need anytime you’re importing or changing the location of a file. Thanks to create-react-app it’s quite simple to set up an environment that allows you to do just that.</p>