<a href="https://open.nytimes.com/the-new-york-times-now-on-apollo-b9a78a5038c">https://open.nytimes.com/the-new-york-times-now-on-apollo-b9a78a5038c</a><div id="articleHeader"><h1><strong>The New York Times — Now On Apollo</strong></h1></div><p id="ad54"><strong>By </strong><a href="https://twitter.com/tizmagik?lang=en" target="_blank"><strong>JEREMY GAYED</strong></a><strong> AND </strong><a href="https://twitter.com/wonderboymusic?lang=en" target="_blank"><strong>SCOTT TAYLOR</strong></a></p><figure id="180e"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/90/1*eUVpp4UODeMWX0uFGPEXXA.png?q=20" /><div class="readableLargeImageContainer"><img src="https://cdn-images-1.medium.com/max/2000/1*eUVpp4UODeMWX0uFGPEXXA.png" /></div></figure><p id="fb36">We<a href="https://open.nytimes.com/react-relay-and-graphql-under-the-hood-of-the-times-website-redesign-22fb62ea9764" target="_blank"> wrote this summer</a> about our move to React and GraphQL at The New York Times. At the time, we were using Relay, Facebook’s open source GraphQL client. We recently shipped a refactor of our app to production using another GraphQL client:<a href="https://www.apollographql.com/" target="_blank"> Apollo</a>.</p><p id="eeb0">Apollo is being used by our web frameworks team and by a number of our feature teams. It is changing the way we build the reading experience for our users, and it gives our developers more tools with which to create.</p><h3 id="8b19">What about Relay?</h3><p id="254e">Facebook rewrote Relay and released it this summer as Relay Modern. We took a deep look at it, which Scott Taylor <a href="https://medium.com/@wonderboymusic/upgrading-to-relay-modern-or-apollo-ffa58d3a5d59" target="_blank">wrote about here</a>. And while Relay Modern is a good option for many teams, there are some important differences.</p><p id="ff19">Most notably:</p><ul><li id="d86d"><strong>First-class support for server-side rendering<br /></strong>Server-side rendering (SSR) is a hard requirement for our site. There are important SEO considerations, as well as performance benefits like First Meaningful Paint (FMP). Relay takes a “bring your own solution” approach to this problem. In Apollo, SSR is a first-class feature. This is huge for us.</li><li id="6a21"><strong>Routing agnostic<br /></strong>Relay Classic and Relay Modern do not ship with a router — you must bring your own. The open source community around Relay does not leave us with many options. Apollo is router-agnostic, which means we have choices and can pivot, if necessary.</li></ul><h3 id="2594">Onto Apollo</h3><p id="4e70">While we were using Relay Classic, Jeremy Gayed took an early look at Apollo. In <a href="https://jeremygayed.com/a-look-at-apollo-from-a-relay-perspective-1c2d43b0a37a" target="_blank">his post here</a>, he explained that it was clear there were a number of long-standing issues Apollo could help us solve.</p><p id="1403">From an end-user perspective, there is little difference. However, from a development and product perspective, Apollo unlocks future platform improvements that we’re really excited about:</p><ul><li id="6cda"><a href="https://npmcharts.com/compare/react-relay,apollo-client" target="_blank">A more vibrant ecosystem</a>: It’s important for the Times to bet on tools that are part of an active and engaged community.</li><li id="9640"><a href="https://www.apollographql.com/docs/react/recipes/server-side-rendering.html#skip-for-ssr" target="_blank">Better server-side rendering/isomorphic support</a> : This includes fine-grained control over where and when queries are fired. We can delay some queries until elements are scrolled into view, and we can isolate others to fire only on certain device types or viewports.</li><li id="a74c"><a href="https://www.apollographql.com/docs/react/recipes/prefetching.html" target="_blank">Preloading/prefetching</a>: With Apollo, we can selectively prefetch certain queries for a snappier reader experience.</li><li id="a16a"><a href="https://github.com/thejameskyle/react-loadable" target="_blank">Code-splitting at the component level</a>: This was difficult to do before, because of the static routing requirement with Relay.</li><li id="fd4e"><a href="https://dev-blog.apollodata.com/apollo-client-2-0-5c8d0affcec7" target="_blank">Apollo Link architecture</a>: Middleware for the GraphQL fetching layer using Observables.</li><li id="ef19"><a href="https://github.com/apollographql/apollo-link-state" target="_blank">Modeling local app state as part of the schema</a>: In some cases, this may obviate the need for Redux.</li><li id="e2c1"><a href="https://dev-blog.apollodata.com/graphql-tools-2-0-with-schema-stitching-8944064904a5" target="_blank">Schema stitching</a>: This allows us to seamlessly connect to multiple GraphQL backends and treat them as if they were one.</li><li id="3d0c"><a href="https://dev-blog.apollodata.com/persisted-graphql-queries-with-apollo-client-119fd7e6bba5" target="_blank">Persisted queries</a>: We can now send a query ID instead of the full the query over the wire.</li><li id="48ad"><a href="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm?hl=en-US" target="_blank">Enhanced debuggability and local developer experience</a>: We now have tools to monitor Apollo inside Chrome DevTools.</li></ul><p id="ac52">The Apollo team has been helpful and responsive throughout our migration, even publishing two package upgrades as a result of our direct feedback! We are grateful for their support and excited to build out new experiences for our readers.</p><h3 id="3758">Want to know more?</h3><p id="d11d">Watch Scott Taylor’s GraphQL Summit keynote.</p><figure id="e262"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fi.ytimg.com%2Fvi%2FW-u-vZUSnIk%2Fhqdefault.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure>