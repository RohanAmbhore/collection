<a href="https://medium.com/styled-components/styled-components-getting-started-c9818acbcbbd">https://medium.com/styled-components/styled-components-getting-started-c9818acbcbbd</a><div id="articleHeader"><h1>styled-components getting started</h1></div><p id="6549">We’re going to style the basic create react app with styled-components to look something like this:</p><figure id="6d8c"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/105/1*QKalytHK2--OeLqYfxdOEQ.gif?q=20" /><div class="readableLargeImageContainer"><img src="https://cdn-images-1.medium.com/max/2000/1*QKalytHK2--OeLqYfxdOEQ.gif" /></div></figure><p id="f982">But first, preamble✨: I have always struggled with styling sites, it seems to be an aspect of starting web development that is either an afterthought or glossed over. Up until December last year I didn’t really like styling anything at all with CSS, it was a chore rather than something I enjoyed doing.</p><p id="2b21">This was until I started using styled-components, when I joined a build to learn project for a <a href="https://medium.com/chingu" target="_blank">Chingu</a> voyage (<code><a href="https://github.com/chingu-voyage4/grad.then" target="_blank">grad.then()</a></code> if you’re interested) we decided to use a CSS-in-JS package, <a href="https://twitter.com/mar_biletska" target="_blank">Marina</a> who was on my team was such an inspiration for me watching how components were styled and really gave me the confidence to start using styled-components.</p><figure id="d300"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2F2rj8VysAig8QE%2Fgiphy.gif&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>Not the customary gif of Perter Griffin with the Venetian blinds. This gif does sum up my earlier frustrations with CSS though.</figcaption></figure><p id="6b06">I want to share what I have learned so far by going through styling a basic react application.</p><p id="aa34">There’s some basic CSS concepts in this post that I was not aware of before starting out with styled-components that I presume are assumed in styling web pages.</p><p id="4d14">Styling the body element of a site is assumed, so for when you are starting out with a blank canvas there are some defaults for all modern web browsers you add to your site, like leaving font size at 16px (or 1rem) or <code><a href="https://paulirish.com/2012/box-sizing-border-box-ftw/" target="_blank">box-sizing: border-box;</a></code> there’s some <a href="https://github.com/sindresorhus/modern-normalize" target="_blank">packages out there</a> to take care of this for you as well.</p><h4 id="1be9"><strong>Install styled-components</strong></h4><p id="c388">Ok lets bootstrap the basic react application you get when using <a href="https://github.com/facebook/create-react-app#create-react-app-" target="_blank">Create React App</a> with <code><a href="https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b" target="_blank">npx</a></code>, if you already have Create React App installed globally then you can use the command without <code>npx.</code></p><pre id="359b">npx create-react-app style-with-styled-components<br />cd style-with-styled-components/<br />npm i styled-components</pre><p id="27dd">Ok, now we have the basic app we can style, thankfully <a href="https://github.com/gaearon" target="_blank">Dan</a> has kindly provided the starting styles for us so let’s begin my using them with styled-components.</p><p id="0da1">The way the CRA CSS is laid out, assumes that you will have a corresponding CSS file for each component, which can help with maintaining the CSS and lends to the React idea of having all your files separated into their component parts.</p><p id="e85d">We can start with the <code>App.js</code> file and it’s accompanying <code>App.css</code> file. Let’s take a look at the <code>App.js</code> first:</p><p id="6a7a">In styled-components we’d create components for each of these elements that replace the aforementioned <code>className</code>’s. Ok we can start by migrating our styles into components, let’s do one component first to get an idea of where we’re going with this.</p><p id="199a">First, import <code>styled</code> into the <code>App.js</code> module:</p><pre id="19e5">import styled from 'styled-components'</pre><p id="d9d6">Now lets look at <code>&lt;div className="App"&gt;</code>, it’s the top level div for this component and is what I like to call the wrapper for the component. So lets give it an imaginative name <code>AppWrapper</code>.</p><p id="f16d">Referring to the <code>App.css</code> there is <code>text-align: center;</code> which belongs to this, so:</p><pre id="a3c1">const AppWrapper = styled.div`<br />  text-align: center;<br />`</pre><p id="471d">So here we have defined the <code>AppWrapper</code> const as a <code>styled.div</code> followed by back ticks `` inside of the back ticks we can write any regular CSS with the exact same CSS syntax you wold in a normal <code>.css</code> file.</p><p id="d8d8">Now that we have our <code>AppWrapper</code> we can replace the top level div on the <code>App.js</code> component.</p><h4 id="94ef"><strong>styled-components all the things</strong></h4><p id="2281">So let’s do that for the remaining four CSS classes, and take a look, I’ll define them underneath the <code>AppWrapper</code> here:</p><p id="ff5d">So first off we’ve created a variable for the React svg <a href="https://www.styled-components.com/docs/basics#animations" target="_blank">animation</a>, you’ll need to import the <code>keyframes</code> helper from styled-components like so:</p><pre id="8eda">import styled, { keyframes } from 'styled-components'</pre><p id="7158">this can now be used throughout the <code>App.js</code> component and we can add an on <code>hover</code> selector to any of our styled-components within this module. Here we’re going to add it to the <code>AppLogo</code> to keep the super sweet rotating React logo.</p><pre id="d2d4">const AppLogo = styled.img`<br />  animation: ${rotate360} infinite 120s linear;<br />  height: 80px;<br />  &:hover {<br />    animation: ${rotate360} infinite 1.5s linear;<br />  }<br />`</pre><p id="6033">Ok, our app shouldn’t look any different as we haven’t added in our styled-components to the app <code>render()</code> method, so let’s do that now.</p><p id="aee7">Let’s also change the intro text. You can add a wrapper for the <code>&lt;code&gt;</code> tags something like:</p><pre id="e734">const CodeWrapper = styled.code`<br />  font-size: 1.3rem;<br />`</pre><p id="e288">But if you prefer you can nest selectors within the component, like:</p><pre id="3b23">const AppIntro = styled.p`<br />  color: ${props =&gt; props.theme.dark};<br />  font-size: large;<br />  code {<br />    font-size: 1.3rem;<br />  }<br />`</pre><p id="0fbd">Let’s have a look at the <code>render()</code> method now…</p><p id="5933">Now all the classes originally used in <code>App.js</code> have been replaced so there’s no need for the <code>import './App.css'</code> mapping, remove that aaaaand! Still no change!! Which is a good thing because at the moment we’re swapping out the <code>.css</code> files for styled-components.</p><p id="c66a">Cool, we have now replaced all the css with styled-components, now we can take a look at <code>injectGlobal</code>.</p><p id="0126">Lets take a look at how the <code>App.js</code> file should look before we move on:</p><h4 id="eb6e"><strong>Style the body with </strong><code>injectGlobal</code></h4><p id="074d">For styling the body of our react app we currently have the <code>index.css</code> file that is being imported into the mounting point of our app in the <code>index.js</code> file.</p><p id="ff46">To style the body we can use <code><a href="https://www.styled-components.com/docs/api#injectglobal" target="_blank">injectGlobal</a></code> from styled-components which adds the styles directly to the stylesheet.</p><p id="bb52">To do this you bring in the <code>injectGolabl</code> named export from styled-components and add your styles between the back ticks.</p><p id="d76a">The current <code>index.css</code> looks like this:</p><pre id="d754">body {<br />  padding: 0;<br />  margin: 0;<br />  font-family: sans-serif;<br />}</pre><p id="6be9">Let’s add a <code>theme</code> folder in the <code>src</code> directory and add a <code>globalStyle.js</code> file where we can keep all our styles we want to use throughout the app, keeping the styles on one place will make changes simpler.</p><p id="77dd">In <code>src/theme/globalStyle.js</code> we’ll need to import the <code>injectGlobal</code> named export from styled-components and add the <code>index.css</code> styles into it:</p><pre id="a567">import { injectGlobal } from 'styled-components'</pre><pre id="9693">injectGlobal`<br />  body {<br />    padding: 0;<br />    margin: 0;<br />    font-family: sans-serif;<br />  }<br />`</pre><p id="b2f8">Ok, now we’re adding the body style to the stylesheet directly so there is no need for the <code>index.css</code> file mapping that is in <code>index.js</code> it should look like this now:</p><pre id="faf5">import React from 'react'<br />import ReactDOM from 'react-dom'</pre><pre id="f20b">import App from './App'</pre><pre id="a789">import registerServiceWorker from './registerServiceWorker'</pre><pre id="5a8b">ReactDOM.render(&lt;App /&gt;, document.getElementById('root'))</pre><pre id="1d0a">registerServiceWorker()</pre><p id="761b">We should still have our nice <code>sans-serif</code> font going on, but let’s add in some nice Roboto for the body and Montserrat for the heading in our <code>globalStyle.js</code> module. We can import Google fonts with an <code>@import</code> in <code>injectGlobal</code> and apply Roboto to the body:</p><p id="1ebc">Cool now we can add our imported font for or app header, and there’s the option if we want all our <code>&lt;h1&gt;</code>’s to use the same font we can add that to the <code>injectGlobal</code> in our <code>globalStyle.js</code> module.</p><p id="9420">Then we can adjust the weight on the <code>AppTitle</code> component:</p><pre id="0529">const AppTitle = styled.h1`<br />  font-weight: 900;<br />`</pre><p id="af4c">To add the additional styles for fonts like Montserrat and Roboto you can specify them in the <code>@import url()</code> you’ll notice that Montserrat has <code>:400,900</code> after it that is specifying the styles regular (400) and black (900), you can import as many as you like from Google fonts (CDN) but the more you import the longer it will take to load them, if you have a lot of fonts and styles you want in your app then consider adding them to a folder in the project, like:</p><pre id="db6b">import Montserrat from ‘./fonts/Montserrat-Regular.ttf’</pre><pre id="a706">injectGlobal`<br />  @font-face {<br />    font-family: Montserrat;<br />    src: url(${Montserrat});<br />  }<br />`</pre><h4 id="3b7c">Theming</h4><p id="a5b9">Themes are often used to change the look and feel of a wide range of things at once. For example, you may have a night and day mode like in Twitter. You can create your own themes in styled-components too.</p><figure id="5312"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/105/1*QafBmtJxyyKK1DCzrFtiYQ.png?q=20" /><div class="readableLargeImageContainer"><img src="https://cdn-images-1.medium.com/max/2000/1*QafBmtJxyyKK1DCzrFtiYQ.png" /></div><figcaption>Twitter with day and night theme</figcaption></figure><h4 id="6a03"><strong>Use the styled-components ThemeProvider</strong></h4><p id="7712">Now say we want to have several components in our app that use a CSS colour property <code>color: #6e27c5</code> instead of hard coding it through the app for every component that uses it we can use the styled-components <code>ThemeProvider</code>.</p><p id="40a4">For this we will need to import the <code>ThemeProvider</code> named export from styled-components, then define a <code>theme</code> object where our colour is going to live:</p><pre id="7745">export const theme = {<br />  primary: ‘#6e27c5’<br />}</pre><p id="15c4">Let’s add the newly created <code>theme</code> to the <code>globalStyle</code> module we created previously.</p><p id="c692">To make the theme object available throughout the app component we’ll wrap our app component in the <code>ThemeProvider</code> and import our awesome theme for use in the <code>ThemeProvider</code>:</p><p id="5221">Now the <code>theme</code> properties can be used as props in our styled-components, let’s change the <code>background-color:</code> in the <code>AppHeader</code> component, whilst we’re at it let’s add a <code>dark: #222</code> property to our <code>theme</code> object and use that for the <code>color</code> property:</p><pre id="81cb">const AppHeader = styled.div`<br />  height: 12rem;<br />  padding: 1rem;<br />  color: ${props =&gt; props.theme.dark};<br />  background-color: ${props =&gt; props.theme.primary};<br />`</pre><p id="8e5a">Now we can change our app theme globally</p><h4 id="dfc6"><strong>Ok cool, can you change theme?</strong></h4><p id="ef6a">This is what I was thinking and it turns out you can, there’s a great <a href="https://stackoverflow.com/a/42899979/1138354" target="_blank">Stack Overflow answer</a> from <a href="https://twitter.com/mxstbr" target="_blank">Max</a> on it.</p><p id="7e6c">It got me thinking if you can switch between themes rather than define them for different sections like in the SO answer.</p><p id="b338">I started off by defining two themes (with imaginative names) in the <code>globalStyle.js</code> module:</p><p id="1c58">Now we need a way to switch between the two <code>theme</code> objects, let’s use a select box for them, let’s create a components folder and in there make a <code>ThemeSelect.js</code> component, we can worry about refactoring the <code>App.js</code> component when I’m not here :</p><p id="e286"><strong>ThemeSelect.js</strong></p><p id="5d62">You’ve probably noticed the <code>onChange={e =&gt; this.props.handleThemeChange(e)</code> event, we’re going to add that method to the <code>App.js</code> component along with some state to manage what theme is selected.</p><p id="b8df"><strong>App.js</strong></p><p id="8a31">To summarise what we have done with <code>App.js</code> here is, add some state to default to <code>theme1</code> where the two themes are imported as named exports of the <code>globalStyle.js</code> module.</p><p id="2fba">Add a method to handle the change of the <code>ThemeSelect.js</code> component <code>handleThemeChange</code> this is where we can switch between the two <code>theme</code> objects.</p><p id="1c44">Let’s try it out, we should be able to switch between the two themes we’ve defined now.</p><h4 id="fb30"><strong>Extending styled-components</strong></h4><p id="e8f0">So far our app hasn’t got many styled-components that are similar but what if we were to add some buttons…</p><figure id="7b7e"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F234708%3Fs%3D400%26v%3D4&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><p id="7ec8">Here I’ve added a <code>Button</code> component to the <code>globalStyle.js</code> for us to use in the <code>App.js</code> component. For the sake of convenience we’re going to add it here, you may find if you have a lot of similar components that you are reusing throughout your app that it may be a good idea to add them all to a <code>components</code> folder.</p><p id="bc23">We can import the <code>Button</code> as you would any other component and use it in the module, as we’re extending it this means we only need to apply the specific styles we want for that button. But first in the <code>App.js</code> component we can specify a normal and a primary button:</p><pre id="9cdd">&lt;Button&gt;Normal Button&lt;/Button&gt;<br />&lt;Button primary&gt;Primary Button&lt;/Button&gt;</pre><p id="1f35">Now to specify another button with the same css as the imported button we can extend it, like in this example we’ll make the button take up 40% of the screen width and make the corners more rounded:</p><pre id="611d">const BigButt = Button.extend`<br />  height: 3rem;<br />  font-size: 2rem;<br />  width: 40vw;<br />  border-radius: 30px;<br />`</pre><p id="c46f">Let’s also apply the theme for an underline on <code>create-react-app</code> and <code>styled-components</code> by adding in an <code>Underline</code> styled-component:</p><pre id="c909">const Underline = styled.span`<br />  border-bottom: 4px solid ${props =&gt; props.theme.secondary};<br />`</pre><p id="a96c">Now we can switch the theme and have it applied to our components using the theme, pretty neat, right?</p><p id="ac00">I have put all of the examples we have gone over here in a working example for you to play around with the theming and styled-components, enjoy.</p>