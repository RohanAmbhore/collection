<a href="https://www.christianengvall.se/electron-packager-tutorial/">https://www.christianengvall.se/electron-packager-tutorial/</a><div id="articleHeader"><h1> Electron packager tutorial </h1></div> <time> 18 October 2016 </time> </header>    <p>In this <a href="https://github.com/electron-userland/electron-packager" target="_blank">electron packager</a> tutorial we will look at how to create MacOS, Windows and Linux executables with an app icon. This is also a continuation of the <a href="/electron-app-icons/" target="_blank">Electron app icon</a> post, so start there if you haven’t read it (It’s short, i promise).</p> <p>I add this code to the <a href="https://github.com/crilleengvall/electron-tutorial-app" target="_blank">Electron tutorial app on github</a>. Just look at that repo if you want to see all the code.</p> <p>In this tutorial I package the application on Windows, macOS and Ubuntu Linux. There are some information about building Windows apps from non-Windows platforms in the <a href="https://github.com/electron-userland/electron-packager#building-windows-apps-from-non-windows-platforms" title="Electron packager readme" target="_blank">Electron packager readme</a>.</p> <h2 id="1-install-electron-packager">1. Install Electron packager</h2> <p>Electron packager is created by <a href="https://github.com/electron-userland" target="_blank">electron-userland</a> and this is what they say about it:</p> <blockquote>"Electron Packager is a command line tool and Node.js library that bundles Electron-based application source code with a renamed Electron executable and supporting files into folders ready for distribution."</blockquote> <p>So lets go ahead and install it. Run these commands in the terminal in the app folder:</p> <figure><pre><code># for use in npm scripts
npm install electron-packager --save-dev

# for use from cli
npm install electron-packager -g</code></pre></figure> <h2 id="2-setting-productname-and-electron-version">2. Setting productname and electron version</h2> <p>Electron packager looks for a product name in package.json, so lets go ahead and add one. We also need to add what version of electron to package the app with.</p> <p>Lets begin with the electron version. We’ll add that from the terminal with this command:</p> <figure><pre><code>npm install --save-dev electron</code></pre></figure> <p>Now when that is done open up package.json and add a productname:</p> <figure><pre><code>{
 "name": "electron-tutorial-app",
 "productName": "Electron tutorial app",
 "version": "0.1.0",
 "main": "main.js",
 "devDependencies": {
 "electron": "^1.4.3",
 "electron-packager": "^8.1.0"
 }
}</code></pre></figure> <h2 id="3-building-macos-windows-and-linux-package-from-the-terminal">3. Building MacOS, Windows and Linux package from the terminal</h2> <p>To get to know what all these flags do, and what more flags exists you can read the <a href="https://github.com/electron-userland/electron-packager/blob/master/docs/api.md" target="_blank">electron-packager api</a>.</p> <h3 id="macos">MacOS</h3> <p>Now you can run this command from the terminal to build a package for mac:</p> <figure><pre><code>electron-packager . --overwrite --platform=darwin --arch=x64 --icon=assets/icons/mac/icon.icns --prune=true --out=release-builds</code></pre></figure> <div> <a href="/wp-content/uploads/2016/10/Electron-packager-mac.png" target="_blank" class="readableLinkWithLargeImage"> <div class="readableLargeImageContainer"><img src="/wp-content/uploads/2016/10/Electron-packager-mac-1024x676.png"   alt="Electron packager mac" /></div>  </a> <p>Electron packager mac</p> </div> <h3 id="windows">Windows</h3> <p>And to build for Windows you can run this from the git bash:</p> <figure><pre><code>electron-packager . electron-tutorial-app --overwrite --asar=true --platform=win32 --arch=ia32 --icon=assets/icons/win/icon.ico --prune=true --out=release-builds --version-string.CompanyName=CE --version-string.FileDescription=CE --version-string.ProductName="Electron Tutorial App"</code></pre></figure> <div> <a href="/wp-content/uploads/2016/10/Electron-packager-windows.png" target="_blank" class="readableLinkWithLargeImage"> <div class="readableLargeImageContainer"><img src="/wp-content/uploads/2016/10/Electron-packager-windows-1024x593.png"   alt="Electron packager windows" /></div>  </a> <p>Electron packager windows</p> </div> <h3 id="linux">Linux</h3> <figure><pre><code>electron-packager . electron-tutorial-app --overwrite --asar=true --platform=linux --arch=x64 --icon=assets/icons/png/1024x1024.png --prune=true --out=release-builds</code></pre></figure> <div> <a href="/wp-content/uploads/2016/10/Electron-packager-ubuntu-linux.png" target="_blank" class="readableLinkWithLargeImage"> <div class="readableLargeImageContainer"><img src="/wp-content/uploads/2016/10/Electron-packager-ubuntu-linux-1024x698.png"   alt="Electron packager ubuntu linux" /></div>  </a> <p>Electron packager ubuntu linux</p> </div> <p><strong>overwrite</strong>: replaces any existing output directory when packaging.</p> <p><strong>platform</strong>: The target platform to build for</p> <p><strong>arch</strong>: the architecture to build for</p> <p><strong>icon</strong>: sets the icon for the app</p> <p><strong>prune</strong>: runs npm prune –production before packaging the app. It removes unnecesary packages.</p> <p><strong>out</strong>: the name of the directory where the packages are created.</p> <h2 id="4-shortcuts">4. Shortcuts</h2> <p>To make it easier to create new builds we can create scripts in package.json so that we don’t have to remember all these settings. Add the scripts below, making your package.json look like this:</p> <figure><pre><code>{
 "name": "electron-tutorial-app",
 "productName": "Electron tutorial app",
 "version": "0.1.0",
 "main": "main.js",
 "devDependencies": {
 "electron": "^1.4.3",
 "electron-packager": "^8.1.0"
 },
 "scripts": {
 "package-mac": "electron-packager . --overwrite --platform=darwin --arch=x64 --icon=assets/icons/mac/icon.icns --prune=true --out=release-builds",
"package-win": "electron-packager . electron-tutorial-app --overwrite --asar=true --platform=win32 --arch=ia32 --icon=assets/icons/win/icon.ico --prune=true --out=release-builds --version-string.CompanyName=CE --version-string.FileDescription=CE --version-string.ProductName=\"Electron Tutorial App\"",    
"package-linux": "electron-packager . electron-tutorial-app --overwrite --asar=true --platform=linux --arch=x64 --icon=assets/icons/png/1024x1024.png --prune=true --out=release-builds"
 }
}</code></pre></figure> <p>Now you can run:</p> <figure><pre><code>npm run package-mac</code></pre></figure> <figure><pre><code>npm run package-win</code></pre></figure> <figure><pre><code>npm run package-linux</code></pre></figure> <h2 id="installer-tutorials">Installer tutorials</h2> <p><a href="https://www.christianengvall.se/dmg-installer-electron-app/" title="GM Installer for electron app" target="_blank">DMG installer for macOS tutorial</a></p> <p><a href="https://www.christianengvall.se/electron-windows-installer/" title="Windows installer tutorial" target="_blank">Windows installer tutorial.</a></p> <p><a href="https://www.christianengvall.se/electron-installer-debian-package/" title="Debian package installer tutorial" target="_blank">Debian package installer tutorial</a></p> <p>Coming soon: Red-hat package.</p> <h2 id="next-tutorial">Next tutorial</h2> <p>The next tutorial in this series is <a href="/electron-menu/" target="_blank">Electron menu</a>. It explains how to add a menu to your app.</p>  