<a href="https://blog.kentcdodds.com/when-to-not-use-render-props-5397bbeff746">https://blog.kentcdodds.com/when-to-not-use-render-props-5397bbeff746</a><div id="articleHeader"><h1>When to NOT use Render Props</h1></div><p id="5058"><em>Let’s back up from the hype and think critically about the render props pattern</em></p><p id="4215"><strong>NOTE: This is a cross-post from </strong><a href="http://kcd.im/news" target="_blank"><strong>my newsletter</strong></a><strong>. I publish each email two weeks after it’s sent. Subscribe to get more content like this earlier right in your inbox! 💌</strong></p><blockquote id="9be6"><em>🚨 Announcement: I am now on Patreon! Support these newsletters and other things I do! </em><a href="https://www.patreon.com/kentcdodds" target="_blank"><em>patreon.com/kentcdodds</em></a></blockquote><p id="bfcd">With all the <a href="https://twitter.com/kentcdodds/status/957388589171539968" target="_blank">tweets</a>, <a href="https://blog.kentcdodds.com/answers-to-common-questions-about-render-props-a9f84bb12d5d" target="_blank">posts</a>, and <a href="https://egghead.io/lessons/react-use-render-props-with-react" target="_blank">training videos</a> I have about the render prop pattern, I get this question a lot: “When should I not use the render props pattern?”</p><p id="4e5d"><a href="https://twitter.com/kentcdodds/status/972468078813446149" target="_blank">Every abstraction comes with a cost</a>, even render props. But we use abstractions because we perceive the benefit outweighs the cost (or because the thought lords told us to and we didn’t stop to think about it… but I digress). So when you’re considering implementing a particular tool, library, or pattern, it’s very important to think critically about the costs and benefits (just like we should <a href="https://blog.kentcdodds.com/application-state-management-66de608ccb24" target="_blank">think critically about how we manage state in our apps</a>). To understand the benefits in this <a href="https://medium.com/dailyjs/reacts--new-context-api-70c9fe01596b" target="_blank">context</a> (😉), you have to understand the problems it solves, how it goes about solving those problems (especially when compared to alternatives), and (most importantly) <strong>whether you have those problems to begin with</strong>. If you don’t have the problem, then you’re incurring the cost of abstraction without reaping the benefits!</p><h3 id="e617">The problem</h3><p id="6174">So what problem does render props solve? Fundamentally, <strong>render props solves the problem of react component logic code reuse</strong> and it solves it in a way that is objectively superior to any other pattern currently. It’s objectively superior because it provides more flexibility than alternatives. It can provide this flexibility because it is basically free of opinions. It allows you to bundle up your component logic into the declarative model react provides for us, and leaves you to be responsible what to do with that information. Normally this means rendering some specific UI based on some state, but it doesn’t have to. React components don’t have to render UI or anything at all. React components are about much more than just visual UI (consider <code><a href="https://reacttraining.com/react-router/" target="_blank">react-router</a></code> as a prime example). For more on this, watch <a href="https://www.youtube.com/watch?v=BcVAq3YFiuc" target="_blank">Never Write Another HoC</a> by <a href="https://twitter.com/mjackson" target="_blank">Michael Jackson</a>.</p><p id="6216">Another problem that render props have solved for me in my codebases is abstracting away imperative code. I love the example <a href="https://twitter.com/mjackson" target="_blank">Ryan Florence</a> gave in his talk almost 2 years ago at <a href="http://www.reactrally.com/" target="_blank">React Rally</a>called <code><a href="https://youtu.be/kp-NOggyz54" target="_blank">‹Rethinker stop={false}/›</a></code> where he refactored a bunch of imperative code in a React Component's lifecycle methods to a separate <code>&lt;Tone /&gt;</code> component that abstracted away that imperative code and provided a clean declarative API instead. By doing this, Ryan made the code easier to understand because the visual UI was separated from the DOM APIs that were used to create the sound.</p><blockquote id="a190"><em>Note: In Ryan’s example he didn’t actually use a render prop (he rendered </em><code><em>null</em></code><em>), but we can do the same thing he did in that example with our own code. Find good examples of components that do this in the </em><a href="https://github.com/jaredpalmer/react-fns/tree/master/src" target="_blank"><em>react-fns</em></a><em> source code (by </em><a href="https://twitter.com/jaredpalmer" target="_blank"><em>Jared Palmer</em></a><em> and </em><a href="https://github.com/jaredpalmer/react-fns/blob/master/README.md#contributors" target="_blank"><em>other contributors</em></a><em>).</em></blockquote><h3 id="25fd">When to use render props:</h3><p id="b4cb">So when do I use render props? I use them when I want to reuse component logic and when I want to abstract away imperative code to provide a easier to understand declarative API. So I use render props all the time! Not in every component, but definitely when I find myself in one of those two situations.</p><h3 id="5083">When to use an alternative pattern?</h3><p id="9a97">Never. I’m only partially kidding. There are definitely some situations where another pattern could provide a cleaner interface for regular users. Take react-redux for example. The <code>connect</code> higher order component is pretty straightforward and wouldn't be made much more simple by turning it into a render prop component instead. One nice thing about render props is that they give you dynamic composition, but the <code>connect</code> HOC solves that problem by exposing an API for the parts you'd want to have dynamic anyway (like <code>mapStateToProps</code> and <code>mapPropsToDispatch</code>).</p><p id="48dc">That said, I would <em>still</em> use a render prop to <em>create</em> these higher order components. As I said earlier, render props are objectively superior pattern. But they’re not always the most ergonomic. So while I would expose a <code>connect</code> HOC for integrating with redux like react-redux does, I would implement it using a render prop (<a href="https://egghead.io/lessons/react-implement-a-higher-order-component-with-render-props" target="_blank">let me show you how</a>)! This is possible because of the power of the render prop pattern.</p><p id="ec1e">In combination with HOCs, the Provider pattern can also be really handy, and can also be implemented via render props (in fact, that’s basically what <a href="https://medium.com/dailyjs/reacts-%EF%B8%8F-new-context-api-70c9fe01596b" target="_blank">the new context API</a> is all about). Just for fun one day, I decided to implement a provider and HOC for downshift. It didn’t take me very much time at all before I had <a href="https://codesandbox.io/s/017n1jqo00" target="_blank">a working implementation</a>! This example highlights one of the reasons I prefer render props over other patterns. With render props you don’t need to make and name so many useless components! But some people really enjoy breaking things out into smaller components, so it’s nice to have something like this for those folks. If the HOCs fall short, people can always fall back to the regular render prop.</p><p id="ae40">So here’s my rule: If I want to reuse component logic or abstract away imperative code, I always start with a render prop, then if needed I’ll use that component to implement common-case components to make it more usable. Common case users can use the common-case components, and advanced users can use the render prop component. Everyone wins!</p><blockquote id="09a0"><em>Note: If you want to see more examples of how to implement a higher order component using a render prop component, check out every HOC in </em><a href="https://github.com/jaredpalmer/react-fns/tree/master/src" target="_blank"><em>react-fns</em></a><em> which do exactly that (like the </em><code><a href="https://github.com/jaredpalmer/react-fns/blob/052ea56092c53946c7937e1d32adf78a7d37d6f3/src/GeoPosition/withGeoPosition.tsx" target="_blank"><em>withGeoPosition</em></a></code><em> HOC)!</em></blockquote><p id="d212">I hope that’s helpful to you! Good luck!</p><p id="13d0"><strong>Learn more about Render Props from me</strong>:</p><ul><li id="9420"><a href="https://blog.kentcdodds.com/how-to-give-rendering-control-to-users-with-prop-getters-549eaef76acf" target="_blank">How to give rendering control to users with prop getters</a> — My blog post from a few months back about a pattern that’s complementary to render props</li><li id="e003"><a href="https://blog.kentcdodds.com/testing--components-using-render-props-5623ab1814c" target="_blank">Testing components using render props</a> — If you want to test component A which uses component B, and component B has a render prop API, read this.</li><li id="f892"><a href="https://blog.kentcdodds.com/answers-to-common-questions-about-render-props-a9f84bb12d5d" target="_blank">Answers to common questions about render props</a> — My blog post that is what the title says it is…</li></ul><p id="2efd"><strong>Learn about Advanced React Component Patterns from me</strong>:</p><p id="f76e"><strong>Things to not miss</strong>:</p><ul><li id="c10d"><a href="http://knowjs.org/" target="_blank">KnowJS</a> — An online training event that I’m taking part in</li><li id="4f19"><a href="https://reactdevsummit.com/" target="_blank">React Dev Summit</a> — An online (FREE TO WATCH LIVE) conference that I’m speaking for.</li><li id="7e9b"><a href="https://devchat.tv/react-round-up" target="_blank">React Round Up</a> — A new React Podcast I’m a panelist on!</li><li id="cc78"><a href="https://stackedit.io/carbon.now.sh" target="_blank">Carbon</a> by <a href="https://dawnlabs.io/" target="_blank">Dawn Labs</a> — This is how I created the fancy code screenshot in the tweet below.</li><li id="c870"><a href="https://regexly.chipto.io/" target="_blank">regexly</a> by <a href="https://chipto.io/" target="_blank">Chipto Labs</a> — This is an awesome tool for checking regexes that shows JavaScript-specific APIs. Definitely my new favorite!</li></ul><p id="c714"><strong>Some tweets from this last week:</strong></p><figure id="bca6"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fmedia%2FDX3gEMSU0AYlQxg.png%3Alarge&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><figure id="253b"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F759557613445001216%2F6M2E1l4q_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><figure id="f0d5"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F759557613445001216%2F6M2E1l4q_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><figure id="5457"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fmedia%2FDXjq_TWVQAAW8td.jpg%3Alarge&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><p id="b6e4"><strong><em>P.S. If you like this, make sure to </em></strong><a href="http://kcd.im/news" target="_blank"><strong><em>subscribe</em></strong></a><strong><em>, </em></strong><a href="https://twitter.com/kentcdodds" target="_blank"><strong><em>follow me on twitter</em></strong></a><strong><em>, </em></strong><a href="http://kcd.im/donate" target="_blank"><strong><em>buy me lunch</em></strong></a><strong><em>, </em></strong><a href="http://kcd.im/patreon" target="_blank"><strong><em>support me on patreon</em></strong></a><strong><em>, and </em></strong><a href="http://kcd.im/news" target="_blank"><strong><em>share this with your friends</em></strong></a><strong><em> 😀</em></strong></p><p id="dcb8">Also, retweeting this is a great way to share this with your friends:</p><figure id="e534"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F759557613445001216%2F6M2E1l4q_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure>