<a href="https://medium.com/@codazeninc/choosing-a-graphql-client-apollo-vs-relay-9398dde5363a">https://medium.com/@codazeninc/choosing-a-graphql-client-apollo-vs-relay-9398dde5363a</a><div id="articleHeader"><h1>Choosing a GraphQL Client: Apollo vs. Relay</h1></div><figure id="bb9b"><div><div><img src="https://cdn-images-1.medium.com/freeze/max/75/1*CrcFzy2qXJfG2wAcVpysGQ.jpeg?q=20" /><div class="readableLargeImageContainer"><img src="https://cdn-images-1.medium.com/max/2000/1*CrcFzy2qXJfG2wAcVpysGQ.jpeg" /></div></figure><p id="f6a1">If you just want to see the comparison table, keep scrolling down. You won’t hurt anyone’s feelings. <em>Probably.</em></p><p id="7692">You’re likely here because you’ve heard about GraphQL, the groundbreaking new way to fetch data for your applications. Maybe you’ve figured out how to set up a basic GraphQL server. (If not, <a href="https://medium.com/apollo-stack/the-concepts-of-graphql-bc68bd819be3#.22a4zp5sd" target="_blank">check</a> <a href="https://medium.com/apollo-stack/how-do-i-graphql-2fcabfc94a01#.cekw8rmwb" target="_blank">out</a> <a href="https://medium.com/apollo-stack/graphql-explained-5844742f195e#.x0zixkf7o" target="_blank">these</a> <a href="https://medium.com/apollo-stack/tutorial-building-a-graphql-server-cddaa023c035#.7mopo6abm" target="_blank">great</a> <a href="https://www.compose.com/articles/using-graphql-with-mongodb/" target="_blank">articles</a>.) Now, you’ve got to pick a client that takes advantage of your shiny new GraphQL server. You’ve probably heard of Relay and tried a <a href="https://medium.com/@clayallsopp/relay-101-building-a-hacker-news-client-bb8b2bdc76e6#.zgmzyanu1" target="_blank">tutorial</a>. Maybe you found it confusing or difficult and didn’t realize you have other options. Well, Apollo and Relay are currently* two of the leading open-source GraphQL clients for NodeJS apps.</p><blockquote id="2633">If only there was a quick and easy side-by-side comparison so you could make an easily informed decision on which client is right for you. Well, congratulations, you found one!</blockquote></section><section><div><div><h3 id="a022">WHY CHOOSE A GRAPHQL CLIENT?</h3><p id="e8ae">Of course, before making such an important decision, we should discuss why we even need a GraphQL-specific client. Why can’t you just stick with whatever you’ve comfortably been using? Redux, for one, happens to work fine with GraphQL. If you’d like to spend more time simply figuring out how GraphQL works within a more familiar context like Redux, I highly recommend <a href="https://medium.com/@thisbejim/getting-started-with-redux-and-graphql-8384b3b25c56#.3ihvkvja4" target="_blank">James Childs-Maidment’s fantastic article on Getting started with Redux and GraphQL.</a></p><p id="b01c">However, Redux isn’t designed to maximize the benefits of GraphQL. If your goal in learning GraphQL is to really take advantage of its amazing benefits, it makes sense to also invest in a client-side technology that aims to get the most out of your GraphQL server.</p><blockquote id="7afb">To this end, Apollo and Relay both implement query and data caching in some form to further optimize requests to the graphQL server.</blockquote><p id="acd6">This means doing lots of pre/post-processing to make “smart” requests, which Redux isn’t built to do for you. Apollo and Relay also do lots of other nice things. Instead of reading an entire compare/contrast essay about said things, here’s a neat table below.</p></div></section><section><div><div><h3 id="338a">COMPARISON</h3><p id="9b68"><a href="http://dev.apollodata.com/core/" target="_blank">Apollo</a> and <a href="https://facebook.github.io/relay/" target="_blank">Relay</a> share many features, but they’re <em>clearly not identical</em>. So, here’s a breakdown of how they’re different. In order to keep this brief, I’ve included links to what I believe are good resources for more information.</p><p id="cadb">To see the fancy table, <a href="http://www.codazen.com/choosing-graphql-client-apollo-vs-relay/" target="_blank">click here</a>.</p><h4 id="749a">Key Values</h4><p id="a25b"><strong>Apollo:</strong><br />* Incrementally adoptable<br />* Simple to get started with<br />* Inspectable and understandable<br />* Built for interactive apps<br />* Community Driven</p><p id="8c77"><strong>Relay: </strong><br />* Declarative: what data, don’t <em>worry</em> about <em>how</em> or <em>when<br /></em>*Colocations: write data dependencies right in the view<br />* Mutations: data consistency, optimistic updates, and error handling</p><h4 id="e689">Object Identification for Caching</h4><p id="9d5d"><strong>Apollo: </strong>__typename + id <em>(client-side, automatic)<br /></em><strong>Relay: </strong><a href="https://www.npmjs.com/package/graphql-relay" target="_blank">graphql-relay</a> globalId <em>(server-side, requires </em><a href="https://facebook.github.io/relay/docs/graphql-object-identification.html" target="_blank"><em>GraphQL schema configuration</em></a><em>)</em></p><h4 id="0f12">Query Language</h4><p id="ec1c"><strong>Apollo:</strong> <a href="https://www.npmjs.com/package/graphql-tag" target="_blank">graphql-tag</a><br /><strong>Relay:</strong> <a href="https://facebook.github.io/relay/docs/api-reference-relay-ql.html" target="_blank">Relay.QL</a></p><h4 id="29ef">Query Batching</h4><p id="fe19"><strong>Apollo: </strong><a href="https://medium.com/apollo-stack/query-batching-in-apollo-63acfd859862#.10bu679ii" target="_blank">built-in</a> <em>(one-line setup + config)<br /></em><strong>Relay: </strong><a href="https://www.npmjs.com/package/react-relay-network-layer" target="_blank">react-relay-network-layer</a></p><h4 id="b421"><strong>Subscriptions</strong></h4><p id="7d5f">Apollo: <a href="https://medium.com/apollo-stack/graphql-subscriptions-in-apollo-client-9a2457f015fb" target="_blank">yes</a><br />Relay: <a href="https://www.npmjs.com/search?q=graphql+relay+subscription" target="_blank">yes<em>(ish)</em></a></p><h4 id="93c8">Fragments</h4><p id="5850"><strong>Apollo: </strong><a href="http://dev.apollodata.com/core/fragments.html" target="_blank">yes</a><br /><strong>React: </strong>yes</p><h4 id="b6bc">Optimistic UI Updates</h4><p id="6328"><strong>Apollo: </strong><a href="https://medium.com/apollo-stack/mutations-and-optimistic-ui-in-apollo-client-517eacee8fb0#.rxhbh8usv" target="_blank">yes</a><strong><br />React: </strong><a href="http://blog.pathgather.com/blog/a-beginners-guide-to-relay-mutations" target="_blank">yes</a></p><h4 id="f5da">Pagination</h4><p id="cb8d"><strong>Apollo: </strong>Arbitrary <a href="https://medium.com/apollo-stack/pagination-and-infinite-scrolling-in-apollo-client-59ff064aac61#.xqooflaka" target="_blank">pagination</a> schema <em>(server-side), </em><a href="http://dev.apollodata.com/react/pagination.html" target="_blank">fetchMore</a> <em>(client-side)<br /></em><strong>React: </strong>curser-based <em>(server-side, requires </em><a href="https://facebook.github.io/relay/docs/graphql-connections.html" target="_blank"><em>GraphQL connections configuration</em></a><em>)</em></p><h4 id="88f7">Custom Network Interfaces</h4><p id="baaf"><strong>Apollo: </strong><a href="http://dev.apollodata.com/core/network.html" target="_blank">yes</a><br /><strong>Relay: </strong><a href="https://facebook.github.io/relay/docs/guides-network-layer.html" target="_blank">yes</a></p><h4 id="9f3e">Server-Side Rendering</h4><p id="cb13"><strong>Apollo: </strong><a href="http://dev.apollodata.com/react/server-side-rendering.html" target="_blank">yes</a><strong><br />Relay: </strong><a href="https://www.npmjs.com/package/isomorphic-relay" target="_blank">isomorphic-relay</a></p><h4 id="430a">Performance (Caching and Query Optimization)</h4><p id="75c9"><strong>Apollo: </strong><a href="http://dev.apollodata.com/react/receiving-updates.html" target="_blank">yes</a><strong><br />Relay: </strong><a href="https://facebook.github.io/relay/docs/thinking-in-graphql.html" target="_blank">yes</a></p><h4 id="ef99">Routing</h4><p id="0a6e"><strong>Apollo: </strong><a href="https://www.npmjs.com/package/react-router" target="_blank">react-router</a><br /><strong>Relay: </strong><a href="https://www.npmjs.com/package/react-router-relay" target="_blank">react-router-relay</a></p><h4 id="2d5b">Testing</h4><p id="39f4"><strong>Apollo: </strong><a href="https://facebook.github.io/jest/" target="_blank">Jest</a> (assuming you’re using React)<br /><strong>Relay: </strong><a href="https://facebook.github.io/jest/" target="_blank">Jest</a></p><h4 id="cfb4">Developer Tools</h4><p id="f29c"><strong>Apollo: </strong><a href="http://dev.apollodata.com/core/devtools.html" target="_blank">Redux DevTools</a> (<a href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd" target="_blank"><em>chrome extension</em></a>)<strong>Relay: </strong>React DevTools <em>(</em><a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" target="_blank"><em>chrome extension</em></a><em>)</em></p><h4 id="c550">Compatibility</h4><p id="4b35"><strong>Apollo: </strong>React, React Native, Angular 2, Redux, Meteor<br /><strong>Relay: </strong>React, React Native</p><h4 id="d392">Learning Curve (Familiarity)</h4><p id="3679"><strong>Apollo: </strong><a href="http://dev.apollodata.com/react/initialization.html" target="_blank">similar to react-redux</a><br /><strong>Relay: </strong>new material</p><h4 id="dd5b">Mutation-Writing Complexity</h4><p id="6e41"><strong>Apollo: </strong><br />* Simple GraphQL mutation w/resolve<br />* Send literal mutation through Apollo client<br />* Update Apollo client store</p><p id="6834"><strong>Relay:<br /></strong>* GraphQL mutation w/mutationWithClientMutationID<br />* Match variable names between GraphQL and Relay<br />* Set up fat query & configs for Relay</p><h4 id="a876">Documentation</h4><p id="171c"><strong>Apollo: </strong><a href="http://dev.apollodata.com/core/" target="_blank">fantastic</a> (with <a href="http://dev.apollodata.com/core/how-it-works.html" target="_blank">pictures</a>!)<br /><strong>Relay: </strong><a href="https://facebook.github.io/relay/docs/getting-started.html" target="_blank">…spotty</a></p><h4 id="1588">Open Source Stats*</h4><p id="3c58"><strong>Apollo:</strong> <a href="https://github.com/apollostack/apollo-client" target="_blank">https://github.com/apollostack/apollo-client</a><br />* Watchers: 87<br />* Stars: 815<br />* Forks: 61<br />* Pending PRs: 9<br />* Commits in last month: 176</p><p id="84e3"><strong>Relay:</strong> <a href="https://github.com/facebook/relay" target="_blank">https://github.com/facebook/relay</a><br />* Watchers: 339<br />* Stars: 6,940<br />* Forks: 576<br />* Open Issues: 123<br />* Pending PRs: 10<br />* Commits in the last month: 10</p></div></section><section><div><div><p id="a70f">Ultimately, it comes down to you and the specifics of your project. Apollo offers a friendly developer experience and works great for learning and adopting GraphQL into an existing project, especially if it doesn’t use React. Relay is being built with mobile performance and scalability–at the Facebook level–in mind.</p><blockquote id="27c2">As GraphQL continues to mature, both technologies have great communities dedicated to creating a better internet, so you can’t really go wrong with either one.</blockquote><p id="0bed">My team decided to go with Relay. Why? The Relay team at Facebook is hard at work on some major improvements, and <a href="https://facebook.github.io/react/blog/2016/08/05/relay-state-of-the-state.html" target="_blank">the future of Relay</a> looks pretty bright. Also, because Relay and GraphQL are both developed at Facebook, we expect any updates for GraphQL will be supported faster by Relay 2 than Apollo.</p><p id="0f98">Make your choice: <a href="https://medium.com/apollo-stack/apollo-client-graphql-with-react-and-redux-49b35d0f2641#.6o2t5khlj" target="_blank">Get started with Apollo</a> or <a href="https://facebook.github.io/relay/docs/tutorial.html#content" target="_blank">Get started with Relay</a></p><p id="587a">If you were hoping for more words to read, check out some of the many links throughout this post. They’re dedicated to more specific topics about GraphQL, Apollo, and Relay. Also, keep an eye out for a follow-up article exploring key changes between Relay and Relay 2!</p><p id="4199"><strong>Posted by Rachel Lee, <em>Software Engineer</em></strong></p><p id="80bf"><em>*as of time of writing (September 1, 2016)</em></p></div></section>