<a href="https://medium.com/@_alanbsmith/why-we-use-styled-components-at-decisiv-a8ac6e1507ac">https://medium.com/@_alanbsmith/why-we-use-styled-components-at-decisiv-a8ac6e1507ac</a><div id="articleHeader"><h1>Why We Use Styled Components at¬†Decisiv</h1></div><h2 id="fbae"><em>and why you might consider it as¬†well</em></h2><h3 id="6f1f"><strong>Overview</strong></h3><p id="7425">A couple days ago, I posted this somewhat-snarky tweet:</p><figure id="8edb"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F819407991996895232%2FgtGgHqz3_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><p id="c620">It surprisingly led to some good discussion in this thread:</p><figure id="b74d"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F819407991996895232%2FgtGgHqz3_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div><figcaption>Thread on why CSS-in-JS makes sense</figcaption></figure><p id="1a51">Unfortunately Twitter is not ideal for providing context and longer explanation, and I thought this might be a good way to follow up. Given that, a lot of this article describes what led to our decision to use CSS-in-JS, and provides specific reasons for choosing Styled Components further below. I hope what follows is useful for you and your team.</p><h3 id="05c7">Disclaimer</h3><p id="0ea4">There are a lot of strong opinions surrounding CSS-in-JS, so I‚Äôd like to start with a few clarifications. If you‚Äôre already familiar with CSS-in-JS, you can probably skip this section.</p><h4 id="2ad6">I Don‚Äôt Hate¬†CSS</h4><p id="44af">I don‚Äôt want CSS to die. I‚Äôm not trying to avoid it. I don‚Äôt think it‚Äôs obsolete, outdated, or stagnant. And I certainly don‚Äôt want a JavaScript overhaul of CSS. That‚Äôs not what CSS-in-JS is about regardless of the hype.</p><h4 id="b52a">Styled Components Isn‚Äôt the Right Choice for Every¬†Team</h4><p id="f321">I‚Äôm not saying Styled Components is better than Radium, Aphrodite, Glamor, Glamorous, Emotion, or any of the other CSS-in-JS libraries. All of these libs have done incredible work and solved a lot of challenging problems.</p><p id="261c">I‚Äôm also not saying CSS-in-JS is right for <em>your</em> team. Styled Components works really well for us, and I‚Äôd like to share why and how.</p><h3 id="fbfc">A Little History | The Early Days of¬†React</h3><h4 id="22a1">Evolving Ideas and Implementations</h4><p id="124b">Ben Alman has this great tweet I like to reference from the early days of React.</p><figure id="9d7b"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F607140403586998273%2Fe9wUP6dG_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><p id="231d">When React was first announced it seemed so backwards. Colocating JavaScript with markup? Haven‚Äôt we proven this was a <em>bad idea</em>? What about separation of concerns?</p><p id="5098">As it turns out, the <em>idea </em>wasn‚Äôt bad, but the implementation needed improvement. React provided the tooling to prove the concept. As more people began using React, we realized that JavaScript and markup <em>have the same concern</em> <em>and there are a lot of benefits to colocation.</em></p><h4 id="ef49">Style Management Patterns</h4><p id="306f">React also has a built-in pattern for colocating CSS using inline styles. But inline styles didn‚Äôt feel like writing CSS, was difficult to transfer from stylesheets, and didn‚Äôt have Sass / preprocessing support. All of this created enough friction to keep styles separate. From this tension the CSS Modules pattern developed, and it‚Äôs great. Component-specific CSS / Sass files are directly imported and provide a great pattern for organizing styles.</p><p id="6bf4">But the problem of managing global styles remains. If you‚Äôve been working in frontend for any time at all, you know that managing styles, <em>especially at scale</em>, is really challenging. <a href="http://getbem.com" target="_blank">BEM</a>, <a href="https://smacss.com" target="_blank">SMACSS</a>, and other CSS patterns provide a lot of great guidelines for managing styles. But guidelines only go so far. And as your application grows, it becomes more difficult to avoid unintended side-effects. <a href="https://medium.com/@markdalgleish" target="_blank">Mark Dalgleish</a> has a great talk on CSS-in-JS and says this much better <a href="https://www.youtube.com/watch?v=X_uTCnaRe94" target="_blank">here</a>.</p><h3 id="346a">Enter CSS-in-JS</h3><p id="435f">The premise for CSS-in-JS is that styles, JavaScript, and markup all have the same, shared concern and therefore should be tightly coupled. Problems with potential collisions are resolved by scoping styles to the component. We have a 0% chance of styles leaking. And if styles are updated in the component there are no ripple-effects across the DOM. What was once a best-practice and guideline is now strictly enforced by the nature of the tooling. A common critique of modern CSS-in-JS libraries is complexity (<em>or at least a feeling of complexity</em>), and that‚Äôs fair. But the appeal of CSS-in-JS is not simplicity, rather predictability and consistency.</p><p id="13a3">As <a href="https://github.com/threepointone/glamor" target="_blank">Glamor</a>, <a href="https://github.com/paypal/glamorous" target="_blank">Glamorous</a>, <a href="https://github.com/styled-components/styled-components" target="_blank">Styled Components</a>, <a href="https://github.com/emotion-js/emotion" target="_blank">Emotion</a>, <a href="https://github.com/Khan/aphrodite" target="_blank">Aphrodite</a>, etc. became available, they created a surge in popularity for colocating styles. Our implementations finally caught up the the concept. Similar to colocating JavaScript with markup, the <em>idea </em>of colocating styles wasn‚Äôt flawed, rather our previous tooling was inadequate. We are now able to stand at a vantage point where we can see the benefits of the concept.</p><h3 id="1488">What‚Äôs Next</h3><p id="0912">Our UIs are more complex than ever and continue to trend in that direction. Not only are individual clients more complex, but it‚Äôs not uncommon for a team to support multiple web UIs and native mobile clients. As this complexity increases, so does our need for predictability. This trend raises a larger question: <em>How do we keep UI consistent across multiple applications?</em></p><p id="4d3f">Our frontend team at <a href="https://www.decisiv.com" target="_blank">Decisiv</a> is solving this issue by building an internal component library. It allows us to version, test regressions, collaborate with our design team, and share our UI across multiple applications. A lot of other teams are doing this as well. Custom component libraries were once reserved to large dev shops and thought-leaders. But as our tooling improves, I see more teams building their own internal component libraries. Design and development is becoming less of a handoff and more continuous collaboration. (<em>Which is awesome!</em> üéâ)</p><p id="aa01">From my experience, building a component library is the best way to keep UI consistent and predictable across applications, and CSS-in-JS has been the best tooling available to build these libs.</p><h3 id="8a24">Why We Chose Styled Components</h3><h4 id="01c5">We ‚ù§Ô∏è Styled Components</h4><p id="dad7">We were drawn to CSS-in-JS for the reasons mentioned above, but Styled Components in particular has been a great tool for our team. Below are the main reasons we chose it.</p><h4 id="4ee8">Large & Thriving Community</h4><p id="4f03">Being on the edge of a new technology is inherently risky, but we were really encouraged by the community surrounding Styled Components. The team is connected to the community and always asking for feedback. We recently started contributing back to this community by open sourcing our internal <a href="https://github.com/Decisiv/styled-components-modifiers" target="_blank">styled-components-modifiers</a> library, and have other internal tooling we are hoping to open source when it‚Äôs ready.</p><h4 id="3a9a">Template Literal¬†Syntax</h4><p id="5701">Using template literals to write CSS syntax in our components is a huge boost to our team‚Äôs productivity. Developers who were brand new to CSS-in-JS could immediately hop in and start writing styles. I probably could get used to writing <code>{ fontSize: ‚Äú24px‚Äù }</code>, but having a familiar syntax is really a great feature.</p><h4 id="e464">Sass Support &¬†Polished</h4><p id="f301">We also really liked that Sass support was bundled into the lib.</p><pre id="ae7f">const Link = styled.a`<br />  cursor: pointer;<br />  text-decoration: none;<br />  &:hover {<br />    color: blue;<br />    text-decoration: underline;<br />  }<br />`;</pre><p id="f20e">Again, writing our styles in this way feels really natural and reduces lines of code at the same time. Along with the basic Sass support, there‚Äôs also <a href="https://github.com/styled-components/polished" target="_blank">Polished</a>, a small toolset created by Styled Components to provide additional Sass functionality and other helpful tooling.</p><h4 id="86ff"><strong>Native Mobile¬†Support</strong></h4><p id="edbd">Our team is also in the process of developing a native mobile app with React Native. It was really important for our UI to feel consistent on mobile, and having that bundled into Styled Components is a huge win.</p><h3 id="619b">We‚Äôre Not There¬†Yet</h3><p id="14fd">These recent expressions of CSS-in-JS are still <em>really new</em> and far from perfect. There is still a need for established patterns and a more robust ecosystem. I listed a few in this thread:</p><figure id="2812"><div><div><img src="https://i.embed.ly/1/display/resize?url=https%3A%2F%2Fpbs.twimg.com%2Fprofile_images%2F763033229993574400%2F6frGyDyA_400x400.jpg&key=a19fcc184b9711e1b4764040d3dc5c07&width=40" /></div></figure><p id="2f20">However, I‚Äôm encouraged to see the adoption and enthusiasm of CSS-in-JS moving it forward. I‚Äôm also encouraged by the dialog between the various lib communities. Those conversations will help establish patterns for best-practices leading us to more consistent and predictable UI.</p><h3 id="1366">Final Thoughts</h3><p id="07b3">Styled Components has been great for our team, and I think it could be really useful for a lot of other teams as well. I hope some of the ideas here were useful and thought-provoking. I‚Äôve been thinking about this for a while now, and I have other posts queued up, so stay tuned and thanks for reading!</p><p id="753f">Thanks for reading! You can find me on <a href="https://twitter.com/_alanbsmith" target="_blank">Twitter</a> and <a href="https://github.com/alanbsmith" target="_blank">GitHub</a>. If you enjoyed this, your should also subscribe to my newsletter! <a href="https://tinyletter.com/alanbsmith" target="_blank">https://tinyletter.com/alanbsmith</a></p>