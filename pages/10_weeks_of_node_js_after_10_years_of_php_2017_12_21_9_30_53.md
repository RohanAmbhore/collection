<a href="https://medium.com/unexpected-token/10-weeks-of-node-js-after-10-years-of-php-a352042c0c11">https://medium.com/unexpected-token/10-weeks-of-node-js-after-10-years-of-php-a352042c0c11</a><div id="articleHeader"><h1><strong>10 weeks of node.js after 10 years of PHP</strong></h1></div><p id="8cbb">A couple of months ago I started a new startup project at <a href="http://efounders.co/" target="_blank">eFounders</a> startup studio. I had been developing web applications using PHP for 10 years. I felt it was finally time to change my habits and to choose a more modern approach for developing them. I ditched PHP and started playing with the cool kids (no offense, PHP). This article tells you about my personal takeaways of this experience.</p><p id="bbce">TL;DR; The switch was actually not that difficult for me as I was used to the paradigm of having a rich client and the server providing a slim JSON interface. The biggest gain for me is productivity. Having the same language on the server and the client side in makes things just much easier. On top of that, add the vast amount of NPM packages at your fingertips: things become really interesting.</p><h3 id="84e5">Javascript syntax is not what makes Node.js better than PHP</h3><p id="39de">In my opinion, your first steps with <a href="https://nodejs.org/" target="_blank">node.js</a> will depend heavily on what you did before. Indeed, there are different ways to develop a web application in PHP. There is the old and ugly way <a href="https://www.google.com/search?q=php+sucks" target="_blank">everybody likes to hate</a> and there is the <a href="http://symfony.com/" target="_blank">better</a> and <a href="http://laravel.com/" target="_blank">modern</a> way of developing in PHP. Depending on what you are doing right now, switching to a MEAN stack will either be a whole new world or not that crazy at all.</p><p id="9d9b">I tried both approaches. When developing in PHP the “modern” way, there were lots of javascript in the client and a server which acts more like a pure data API.</p><p id="6d3e">How I did things before on the server with PHP and the <a href="http://laravel.com/" target="_blank">Laravel</a> framework:</p><pre id="5635">Route::get(‘user/{id}’, function($id) {<br />  $user = User::find($id);<br />  return Response::json($user-&gt;toArray());<br />});</pre><p id="8951">And how I do the same thing now with <a href="https://nodejs.org/" target="_blank">node.js</a>, <a href="http://expressjs.com/" target="_blank">Express</a> and <a href="http://mongoosejs.com/" target="_blank">mongoose</a></p><pre id="79cf">app.route(‘/user/:id’).get(function(req, res) {<br />  User.findById(req.params.id).exec(function(err, user) {<br />    res.jsonp(user);<br />  });<br />});</pre><p id="a474">Looking at this you might wonder what all the fuzz is about and why people get so emotional when talking about different programming languages.</p><h3 id="9f5e">Async is your new best friend</h3><p id="5ba2">The simple example above illustrates already one of the biggest differences though. All Input/Output functions in Javascript (reading a file, calling a database, API calls, …) are asynchronous procedures, whereas PHP gets executed sequentially. While you can just assign the output of a database call to a variable when working with PHP, you need work with callbacks or promises when doing this in Javascript.</p><p id="650d">This pattern is well known to every developer who touched a piece of javascript in his career (e.g. with jQuery). It’s however still something to get used to when doing multiple database calls, merging data and applying complex business logic.</p><p id="fa54">The main challenge for me was to organize my code in a way that it stays readable (e.g. prevent the so-called <a href="http://callbackhell.com/" target="_blank">Callback Hell</a>). Once you figure this out and you know how to leverage the power of libraries like Async, everything becomes pretty easy. In fact, having the possibility to do several operations in parallel can be fun.</p><h3 id="dd10">node.js’ package manager NPM proves the power of the Community</h3><p id="a1be">Chances are high that you were already using a package manager for one of your projects, e.g. <a href="https://packagist.org/" target="_blank">composer</a> in PHP or <a href="https://rubygems.org/" target="_blank">RubyGems</a> for Ruby on Rails. The node.js package manager is called <a href="https://www.npmjs.com/" target="_blank">NPM</a>.</p><p id="fcc5">At first sight, I thought there was nothing special about it, it just works as expected.However, when you look at the sheer amount of packages you can install (128k at the time of writing) the power of the community around node.js becomes clear. While using composer in PHP feels just like a convenient way to install libraries, NPM seems to be the center of the node.js community.</p><p id="3a98">There is still more PHP source code available on the Internet than Javascript server side code. Most of it feels, however, outdated and doesn’t fit in the modern web development workflow. It seems there is node.js code available for every aspect of modern web development and you can solve most problems by installing the appropriate NPM package. This is a huge time-saver and changes the way you think about complex web applications.</p><h3 id="ec68">#1 advantage: you only need to deal with one language</h3><p id="5b3c">The biggest gain for me is however rooted in a very simple fact: Having the same language on the server and the client side. No more switching back and forth between languages context saves me a lot of time and is very pleasant.</p><p id="6755">While there is still a clear separation of concerns between the client and the server, all code looks the same and behaves the same way. When adding MongoDB as a data storage to the stack, JSON becomes omnipresent and there is just one way of accessing data objects. In addition, a lot of libraries work seamlessly on the server and the client at the same time (e.g. <a href="http://momentjs.com/" target="_blank">Moment.js</a>) so chances are high that you just need to learn things once.</p><h3 id="0c82">No regrets, definitely worth it!</h3><p id="e368">Looking back, switching to Javascript on the server was less painful than expected. There is still a ton to explore for me and I’m pretty sure there are moments of desperation ahead. I would definitely recommend looking into the topic to someone who is about to start a new project and who is motivated to learn something new.</p><p id="1851">Web applications are nowadays heavily - if not solely - based on Javascript (AngularJS, Sails.js, Backbone… you name it) on the client side anyway. In this kind of setup, the server acts mostly as a thin data layer offering simple CRUD functions via an API. So why not just implement the API in Javascript as well and eliminate one language from the stack?</p><p id="f0d1">The simple fact of having the same language on the server had a big impact on my daily work and just for that I would do the switch again.</p><p id="0016">Ps: I’m looking for talented developers to join my team (in Paris) — <a href="https://twitter.com/mdausinger" target="_blank">ping me on Twitter i</a>f you wanna know more.</p>