<a href="https://medium.com/@justintulk/solve-module-import-aliasing-for-webpack-jest-and-vscode-74007ce4adc9">https://medium.com/@justintulk/solve-module-import-aliasing-for-webpack-jest-and-vscode-74007ce4adc9</a><div id="articleHeader"><h1>Solve Module Import Aliasing for Webpack, Jest, and VSCode</h1></div><h2 id="d7c4">Never dig out with `<code>./../../../..</code>` again!</h2><p id="ee09">Scale any project past a certain point of complexity, and you’ll find yourself traversing up and down your file system in your components trying to resolve your imports. Here’s how to configure aliasing to make things easier.</p><p id="939c">If you’re not familiar with the concept of aliasing, it turns a file like this:</p><pre id="479d">import React from 'react'<br />import { connect } from 'react-redux'<br />import { someConstant } from './../../config/constants'<br />import MyComponent from './../../../components/MyComponent'<br />import { myActionCreator } from './../../../ducks/someReducer'</pre><p id="c18c">into this:</p><pre id="628d">import React from 'react'<br />import { connect } from 'react-redux'<br />import { someConstant } from 'Config/constants'<br />import MyComponent from 'Components/MyComponent'<br />import { myActionCreator } from 'Ducks/someReducer'</pre><p id="5111">For this post, assume an app structure as follows:</p><pre id="5988">MyApp/<br />  dist/<br />  src/<br />    config/<br />    components/<br />    ducks/<br />    shared/<br />  jsconfig.json<br />  package.json<br />  webpack.config.js</pre><h4 id="bdea">Webpack</h4><p id="0815">Without any additional plugins, Webpack allows <a href="https://webpack.js.org/configuration/resolve/#resolve-alias" target="_blank">aliasing module imports</a> through the <code>resolve.alias</code> property in your config.</p><pre id="4033">module.resolve = {<br />  alias: {<br />    Config: path.resolve(__dirname, "..", "src", "config"),<br />    Components: path.resolve(__dirname, "..", "src", "components"),<br />    Ducks: path.resolve(__dirname, "..", "src", "ducks"),<br />    Shared: path.resolve(__dirname, "..", "src", "shared"),<br />    App: path.join(__dirname, "..", "src")<br />  }<br />}</pre><p id="7150"><strong>Complication 1:</strong> While Webpack knows how to resolve these aliases now, VS Code doesn’t, so tools like Intellisense won’t work.</p></section><section><div><div><h4 id="9b0b">VS Code</h4><p id="81b3">Making VS Code ‘smarter’ by <a href="https://code.visualstudio.com/docs/languages/jsconfig" target="_blank">telling it how to resolve these aliases</a> is as easy as adding a <code>jsconfig.json</code> file to your project at the root. Use the <code>exclude</code> property to keep VS Code from slowing down by searching <code>node_modules</code> or compiled folders (like <code>dist</code>).</p><pre id="5cdc">{<br />  "compilerOptions": {<br />    "target": "es2017",<br />    "allowSyntheticDefaultImports": false,<br />    "baseUrl": "./",<br />    "paths": {<br />      "Config/*": ["src/config/*"],<br />      "Components/*": ["src/components/*"],<br />      "Ducks/*": ["src/ducks/*"],<br />      "Shared/*": ["src/shared/*"],<br />      "App/*": ["src/*"]<br />    }<br />  },<br />  "exclude": ["node_modules", "dist"]<br />}</pre><p id="86dc"><strong>Complication 2:</strong> While it’s great that VS Code can resolve these routes now, neither the webpack config or the <code>jsconfig.json</code> file is used by Jest, so tests will crash for these components.</p></div></section><section><div><div><p id="0627"><a href="https://facebook.github.io/jest/docs/en/configuration.html#modulenamemapper-object-string-string" target="_blank">Configure Jest</a> in your <code>package.json</code> file using the <code>moduleNameMapper</code> property.</p><pre id="fbb4">"jest": {<br />  "moduleNameMapper": {<br />    "^Config(.*)$": "&lt;rootDir&gt;/src/config$1",<br />    "^Components(.*)$": "&lt;rootDir&gt;/src/components$1",<br />    "^Ducks(.*)$": "&lt;rootDir&gt;/src/ducks$1",<br />    "^Shared(.*)$": "&lt;rootDir&gt;/src/shared$1",<br />    "^App(.*)$": "&lt;rootDir&gt;/src$1"<br />}</pre><p id="fc35"><strong>Complication 3</strong>: Make sure to place parent routes (such as <code>&lt;rootDir&gt;/src</code>) after child routes (<code>&lt;rootDir&gt;/src/components</code>) or you might get resolution errors. <strong><em>This goes for all three config files. </em></strong>I don’t know the deep rules for how resolution is achieved in each of these, but I had issues with having <code>App</code> defined first in these configs.</p></div></section>