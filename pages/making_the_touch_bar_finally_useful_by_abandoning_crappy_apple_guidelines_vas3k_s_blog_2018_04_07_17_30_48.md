<a href="http://vas3k.com/blog/touchbar/">http://vas3k.com/blog/touchbar/</a><div id="articleHeader"><h1>By abandoning crappy Apple guidelines :</h1></div>
    
        

<div>
    
        <div>
            <div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/full/7l1.jpg"   /></div>
        </div>
    

    <div>
        
            <div>Making the Touch Bar finally useful</div>
            
                
                <div>By abandoning crappy Apple guidelines</div>
            
            
        
        <div>02 april 2018 :: 106865 views :: 2877 words</div>
    </div>
</div>


        
            <div>
<p>15-inch MacBook Pro with Touch Bar is my main work tool for more than a year. I use it every single day, all day long — to code, to process photos, and to write my blog posts, of course.</p>

<p>Back in 2017, I thought the Touch Bar had a vast potential to become engaging and helpful. I believed developers might support it in their applications. I was hoping there was a use for it. A year has passed, applications have been updated, but as a Pro user of Pro 15-inch laptop with a 3K Euro price tag, I do declare now — <strong>the Touch Bar still remains the useless shit and there is no hope Apple will fix it</strong>.</p>
<div>
<p>Things got even worse when Apple "reinvented" the Play/Pause button in High Sierra. Now it controls everything, from browser ads to notifications sound. Everything, except music. WAT?</p>
</div>


<p>As a machine, MacBook Pro is great. But not because of the Touch Bar. Touch Bar is an inflamed appendix, the same dumb shit as Siri. If Apple had implemented it as an additional row and not the F-keys replacement, everyone would forget about it in a couple of days.</p>

<p>The reason is simple — that's how you see your laptop 99% of the time:</p>


<div><figure>
    <a href="http://i.vas3k.ru/full/7di.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7di.jpg"   /></div></a>
    
</figure></div>


<p>If you have, well, HANDS, you hardly see the Touch Bar more than twice in two hours. The first time, when you're leaving to get some coffee, second time — when you back with the cup of hot flat white.</p>

<p>No pro-user ever thought of copying text using Touch Bar or something like this, but Apple guidelines restrict any unique features. So why do I even need this crap, if it does not give me unique capabilities and takes away my F-keys.</p>

<p>We're doomed. MacBooks treated us well, and any other laptop feels like a cheap plastic toy nailed to the floor. MacOS is still the best, combining the usability of popular operating systems and flexibility of Unix.</p>

<p>What else do we have? Ubuntu? To use Photoshop in Wine? To watch Plasma crashes like in good old days? No, thanks.</p>

</div>

<div>
<p>For the whole year, I've pushed myself to use the Touch Bar. I've paid for that!</p>

<p>Here's my pro opinion: Fuck your guidelines, Apple. The Touch Bar should always be predictable. I don't want to remember button configuration for every app. I want it to be useful and informative. Just give me an additional screen, like in the early fan renders.</p>


<div><figure>
    <a href="http://i.vas3k.ru/full/7d9.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7d9.jpg"   /></div></a>
    
</figure>  <figure>
    <a href="http://i.vas3k.ru/full/7da.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7da.jpg"   /></div></a>
    
</figure>  <figure>
    <a href="http://i.vas3k.ru/full/7db.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7db.jpg"   /></div></a>
    
</figure></div>

<div>
<p>Early renders from <a href="http://www.martinhajek.com/macbook-meets-oled" target="_blank">Martin Hajek</a>.</p>
</div>


<p>Saying "extra screen" gives me childhood flashbacks. To my sleepless nights, when I was coding Conky configs in ArchLinux to display on my desktop the most important things: the weather, CPU-usage, IP-address, and a FULL-SCREEN CLOCK, of course — a pride and envy of every nerdy schoolboy.</p>

<p>If you were lucky to be an average healthy teenager, I'll show you this nightmare:</p>


<div><figure>
    <a href="http://i.vas3k.ru/full/7dt.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7dt.jpg"   /></div></a>
    
</figure></div>


<p>Ew, creeps! Let this shit stay in 2007. I went through it. I grew up. It looks cool and "cyberpunky" for literally one evening.  You never use it afterwards.</p>
<blockquote>
<p>Things must be useful, not "beautiful"</p>
</blockquote>

<p>The grown-up me started to track my everyday habits and search <a href="https://www.reddit.com/r/apple/comments/6wdfvo/share_your_bettertouchtool_touchbar_shortcuts/" target="_blank">Reddit</a> for ideas. The only proper app for Touch Bar customization I've found, is <a href="https://www.boastr.net" target="_blank">BetterTouchTool</a>. It's still buggy, user-hostile and drains the battery, but it only costs $5. Reasonable price, I recommend it.</p>

</div>

<div>
<p>I've read every single guide to the BetterTouchTool setup and came up with the following conclusions based on whether it works for me or not.</p>
<table>
<thead><tr>
<th>Cool</th>
<th>Crap</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name of track playing<br /> Deadly necessary feature. I'm always wondering what Spotify's Discover brings me.</td>
<td>Bitcoin price<br /> No idea why this widget is so popular. Worthless distraction.</td>
</tr>
<tr>
<td>Volume buttons<br /> Buttons rock. It's always faster to tap, not slide.</td>
<td>Brightness slider<br /> Requires lots of space but used once a week when watching "Futurama" at night.</td>
</tr>
<tr>
<td>Finder in one click<br /> I want to have instant access to Finder, anywhere. Default Touch Bar can't do that. Weird.</td>
<td>RAM usage<br /> Useless. In modern OS it's always nearly 100%. That's natural.</td>
</tr>
</tbody>
</table>

<p>No, I'm not only listening to music and open Finder all day. I code, deploy my dockers, etc. All my work instruments are set up flawlessly. Touch Bar can't make them work better.</p>

<p>However, a lot of processes are always running in the background. Music keeps playing. New ideas pop-up — would be good to write them down. Touch Bar is a perfect place for everything you don't need all the time, but it's a pain in the ass to look for such things when they're needed.</p>
<div>
<p>E.g., the eyedropper tool, to take the hex color code from the screen.</p>
</div>


<p>Two weeks of experiments — writing widgets, trying them, observing, and now I have something to show you:</p>

</div>



<div><figure>
    <a href="http://i.vas3k.ru/full/7l2.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7l2.jpg"   /></div></a>
    
</figure></div>

<div>
<p>Obviously, something will change with time, but today I already see that I've started to use the Touch Bar more. Now I remember where every button is. Eat it, Jony Ive!</p>

<p>Here's the story of every single button.</p>

</div>

<div><h3>ESC forever!</h3>


<div><figure>
    <a href="http://i.vas3k.ru/full/7dm.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7dm.jpg"   /></div></a>
    
</figure></div>


<p>Several times My Touch Bar stopped working while Esc was hidden. No idea why hide it at all. Esc must always be tied to its rightful place. It is now, thanks to BetterTouchTool.</p>

<p>The button next to Esc returns the default Touch Bar, just in case you need something from standard functionality. Haven't used it yet, though.</p>
<h3>A predictable Finder</h3>

<p>Imagine, you want to drag a picture to a browser to upload. You click the Finder, but instead opening a new window at the same screen, it carries you away somewhere. Just because there's another Finder window opened there. And it's fucking impossible to fix that with standard MacOS tools.</p>

<p>Here comes the AppleScript. First, it forces a Finder to open a new window, then tells it to switch to home folder and opens it on top. That's the only way I've found.</p>

<p>Despite that, AppleScript is fun. You feel like playing a text RPG when coding.</p>
<pre><code>tell application "Finder"
    make new Finder window
    set target of front window to path to home folder as string
    activate
end tell
</code></pre>
<div>
<p><strong>upd:</strong> Found a nasty bug. Holding the Finder button for a while will launch a million Finder windows, so you're gonna have a really bad time.</p>
</div>


</div>

<div><h3>Sublime Text and Notes</h3>

<p>I've found out that I always use these two apps and want to access them from anywhere. I don't want to exit the full-screen of my IDE to write down something to Notes.</p>

<p>These are two simple app buttons. Just like at the Dock. You can add any. At first, I've added a bunch of unnecessary ones, but only those two survived. I don't want to replace the Dock but improve usability.</p>


<div><figure>
    <a href="http://i.vas3k.ru/full/7ds.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7ds.jpg"   /></div></a>
    
</figure></div>


</div>

<div><h3>Currently playing Spotify or iTunes track</h3>

<p>Standard Touch Bar will never support the most useful feature — to display the name of track playing. Instead, Apple provides you with huge and useless timeline slider. I don't know what's playing but know the moment in time. Handy.</p>

<p>Fuck sliders and buttons. I only need a track name and a cute pictogram. You can easily google AppleScript configuration for that. It works with both Spotify and iTunes, even when both are active.</p>

<p>In my script, the click on the name of track playing works as "next". Priceless. Especially when "Nickelback" song interferes the AI-generated playlist.</p>

<p>Whether there is a way to get back to the previous track? Nope. The "prev" button used rarely. No need to waste space. When I need that for some reason, I just open an app.</p>
<pre><code>if application "Spotify" is running then
    tell application "Spotify"
        if player state is playing then
            return (get artist of current track) & " - " & (get name of current track)
        else
            return ""
        end if
    end tell
end if
if application "iTunes" is running then
    tell application "iTunes"
        if player state is playing then
            return (get artist of current track) & " - " & (get name of current track)
        else
            return ""
        end if
    end tell
end if
return ""
</code></pre>

</div>

<div><h3>YouTube</h3>

<p>Would be cool to display the name of the YouTube video on the Touch Bar, right?</p>

<p>There's a script for that too. It looks through open Safari tabs and finds one that starts with <code>youtube.com/watch</code>. Then, displays tab title on the Touch Bar. Clicking on it gets you to the exact tab. Neat!</p>

<p>We have a little problem here, though. BetterTouchTool can only run the script by a timer. There's no way to make a simple browser plug-in for displaying the text. You have a script running once in 20 seconds, and praying it won't overload the CPU.</p>
<div>
<p><strong>upd</strong>: CPU is fine, but the battery doesn't. I've turned it off, for now, waiting for BTT updates or will probably write my own tool with external scripting support.</p>
</div>

<pre><code>if application "Safari" is running then
    tell application "Safari"
        repeat with t in tabs of windows
            tell t
                if URL starts with "https://www.youtube.com/watch" then
                    return name of t as text
                end if
            end tell
        end repeat
    end tell
end if
return ""
</code></pre>


<div><figure>
    <a href="http://i.vas3k.ru/full/7l3.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7l3.jpg"   /></div></a>
    
</figure></div>


</div>

<div><h3>Reminders</h3>

<p>I do not practice a time-management. My life cycle only requires a simple todo-list and the Reminders.app. It would be nice to see the top reminder on the Touch Bar.</p>

<p>It turned out very well. E.g., for the whole week, I was trying not to forget to extend my insurance. Did that immediately when it became an eyesore on my Touch Bar. Now I can even tell my dumb Siri "hey, remind me to buy milk" and it appears on the Touch Bar. Nailed it — two useless things replaced with the useful one. Nice.</p>

<p>Clicking on the reminder opens the full Reminders list, so you can check the completed and add more.</p>

<p>Nay, it's not a problem if the reminder is too long, or Spotify grabbed the whole space since you can scroll this area of Touch Bar.</p>
<pre><code>tell application "Reminders"
    set activeReminders to name of (reminders of list "Reminders" whose completed is false)
    if activeReminders is not {} then
        return first item of activeReminders
    else
        return ""
    end if
end tell
</code></pre>

</div>

<div><h3>Weather</h3>

<p>My personal guilty pleasure is to see what's the weather outside now. Imagine this — there's freaking cold, and you're sitting by the fireplace, covered in <del>bees</del> plaid, with a glass of hot wine. Or — it seems like there's a sunny and warm day, which means the adventures time!</p>

<p>A long time ago I even had a little utility for tracking the current weather in a tray. Probably the first app I bought.</p>

<p>Now I decided to make one for the Touch Bar. The main issue of such things is the hardcoded location. I always forget to change it when traveling. It's nicely done in <a href="http://wttr.in" target="_blank">wttr.in</a>, where location traced through an IP.</p>

<p>With <a href="https://itunes.apple.com/ru/app/json-helper-for-applescript/id453114608?l=en&mt=12" target="_blank">JSON Helper</a> and <a href="https://itunes.apple.com/ru/app/location-helper-for-applescript/id488536386?mt=12" target="_blank">Location Helper</a> installed, you can write it youself in couple of lines of AppleScript. No need to buy $1.99 app from AppStore. PROFIT!</p>

<p>If you need a full report, clicking brings you straight to the local weather website. You can even add emojis to display the cloud cover. Take a look at our GitHub repo at the end of the article, some of my readers already made that.</p>
<pre><code>tell application "Location Helper"
    set clocation_coords to get location coordinates
    tell application "JSON Helper"
        set weather to fetch JSON from "http://api.openweathermap.org/data/2.5/weather?lat=" & item 1 of clocation_coords & "&lon=" & item 2 of clocation_coords & "&units=metric&appid=YOUR_OWM_APP_ID"
        set temp to temp of main of weather as string
        return temp & "°C"
    end tell
end tell
</code></pre>


<div><figure>
    <a href="http://i.vas3k.ru/full/7l0.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7l0.jpg"   /></div></a>
    
</figure></div>


</div>

<div><h3>The "coffee break" button</h3>

<p>Vital rule of the office life — block your laptop when leaving. No need to explain this.</p>

<p>I'm not a fan of "hot corners" so I always used the Ctrl + Shift + Power shortcut before. Pity, it doesn't work on new MacBooks because of the Touch ID. The good news is you can add a button for this action to the standard Touch Bar.</p>

<p>I decided to steal this feature and make the "coffee break" button. It locks the laptop and switches the screen off. Extremely useful and has an adorable pictogram — everyone notices it and asks how to get one too.</p>

</div>

<div><h3>No-slider volume</h3>

<p>Once again. I hate sliders on Touch Bar. Changing them to buttons was the first thing I did. Now I can tap them blindly. Guess, even my stress level significantly dropped when I stopped trying to put the sliders in the desired position. It was same to adjusting hot water in a shower — you're never gonna get it without burning yourself.</p>

<p>Look how close the buttons to each other at this part of the Touch Bar. Guidelines state to place them 2x wider. For me though, it seems like the perfect placement. My favourite size.</p>

</div>

<div><h3>Smart "Play"</h3>

<p>Starting from MacOS High Sierra Play/Pause button globally controls the system sounds. It is not a problem on iPhone, but on Mac it controls every ad that pop-up with more priority than Spotify. You tap the button and don't understand, why it doesn't stop the music. Thanks, Apple. Very convinient.</p>

<p>It seems like Apple is extremely proud of their amazing innovative idea and don't even think of fixing it. Some random guy from the Internet solved it with a <a href="http://milgra.com/high-sierra-media-key-enabler.html" target="_blank">High Sierra Media Key Enabler</a> utility. Works neatly.</p>
<div>
<p>Also take a look at the <a href="https://github.com/beardedspice/beardedspice" target="_blank">BeardedSpice</a> if you want even more control.</p>
</div>


<p>The AppleScript for my Play/Pause button controls iTunes and Spotify, depending on active one. If both are not running, it will automatically launch Spotify. No need to think of it.</p>
<pre><code>if application "iTunes" is running then
    tell application "iTunes" to playpause
else
    tell application "Spotify" to playpause
end if
</code></pre>

<p>Here's one more script to change the play/pause pictogram:</p>
<pre><code>if application "Spotify" is running then
    tell application "Spotify"
        if player state is playing then return "pause"
    end tell
end if

if application "iTunes" is running then
    tell application "iTunes"
        if player state is playing then return "pause"
    end tell
end if

return "play"
</code></pre>


<div><figure>
    <a href="http://i.vas3k.ru/full/7l5.jpg" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7l5.jpg"   /></div></a>
    
</figure></div>


</div>

<div><h3>THE Clock</h3>

<p>Yeah, previously I've mentioned that only Linux nerds set clock everywhere. All so. Though, there are two important and unobvious uses for them on Touch Bar.</p>

<p><strong>First:</strong> you will always occasionally tap any key, placed above the Backspace/Delete button. That's the suffering area, where no action must be placed, if you don't want to activate it every 5 minutes. Probably, that's why Apple put Siri there (analysts were satisfied, I bet). For us, it's merely a spot for a  clock.</p>

<p><strong>Second:</strong> full-screen apps. Most of the day my PyCharm opened in a full-screen. It helps me to efficiently use the screen and not get distracted by "critical bug fix asap" messages. The thing is, you can't see time in a full-screen mode you and could easily miss the important meeting.</p>

<p>In short, it's useful.</p>

</div>

<div>
<p>Here's how my full config looks like:</p>


<div><figure>
    <a href="http://i.vas3k.ru/full/7dg.png" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7dg.png"   /></div></a>
    
</figure></div>


<p>Don't forget to uncheck MacOS Control Strip in Settings to fully replace the default Touch Bar:</p>


<div><figure>
    <a href="http://i.vas3k.ru/full/7dv.png" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7dv.png"   /></div></a>
    
</figure></div>


<p>Here's the complete preset, as promised: <a href="https://github.com/vas3k/btt-touchbar-presets/blob/master/vas3k/vas3k_btt_v2.json" target="_blank">vas3k_btt_v2.json</a>. To import it into your BetterTouchTool, click Manage presets —&gt; Import. To make Weather work, you also need the <a href="https://itunes.apple.com/ru/app/json-helper-for-applescript/id453114608?l=en&mt=12" target="_blank">JSON Helper</a> and <a href="https://itunes.apple.com/ru/app/location-helper-for-applescript/id488536386?mt=12" target="_blank">Location Helper</a>.</p>

<p>Try it. It's easy. You only need an evening to sort it out. Probably you compile something great, and Apple will hire us all because we're cool.</p>
<hr />

<p><strong>upd:</strong> A lot of cool guys wanted to share their presets too, so we created a GitHub-repo for that. Feel free to add your own: <a href="https://github.com/vas3k/btt-touchbar-presets" target="_blank">github.com/vas3k/btt-touchbar-presets</a></p>

<p><a href="https://github.com/vas3k/btt-touchbar-presets" target="_blank" class="readableLinkWithLargeImage"><div class="readableLargeImageContainer"><img src="http://i.vas3k.ru/7l7.jpg"   /></div></a></p>

</div>


        